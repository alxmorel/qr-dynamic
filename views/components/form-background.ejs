<div class="admin-section-card">
  <h3>Personnalisation du fond</h3>

  <div class="form-group">
    <label>Couleur de fond</label>
    <% if (content && content.backgroundImage) { %>
      <div class="warning with-icon with-icon-block">
        <i class="fa-solid fa-triangle-exclamation" aria-hidden="true"></i>
        <span><strong>Note :</strong> Une image de fond est actuellement active. La couleur de fond ne sera pas visible
          tant que l'image de fond est présente.</span>
      </div>
      <% } %>
        <div class="color-controls">
          <input type="color" name="backgroundColor" id="backgroundColor"
            value="<%= content && content.backgroundColor ? content.backgroundColor : '#faf6ff' %>" />
          <div class="color-input-wrapper">
            <input type="text" id="backgroundColorText"
              value="<%= content && content.backgroundColor ? content.backgroundColor : '#faf6ff' %>"
              placeholder="#faf6ff" />
          </div>
        </div>
  </div>

  <div class="form-group">
    <label>Image de fond</label>
    <div class="admin-upload" data-upload-field="background-image">
      <div class="admin-upload__controls">
        <button type="button" class="btn-upload with-icon" data-upload-trigger>
          <i class="fa-solid fa-folder-open" aria-hidden="true"></i>
          <span>Sélectionner une image</span>
        </button>
        <input type="file" name="backgroundImageFile" id="backgroundImageFile" accept="image/*" hidden
          data-upload-input />
      </div>
      <div class="admin-upload__dropzone" data-upload-dropzone>
        <p><strong>Glissez-déposez</strong> votre image de fond ici ou utilisez le bouton.</p>
        <small>Formats JPG, PNG, GIF, WEBP. Taille conseillée : &lt; 5 Mo.</small>
      </div>
      <small class="admin-upload__hint">Utilisez une image légère pour de meilleures performances.</small>

      <div class="preview-section admin-upload__preview hidden" data-upload-preview>
        <p>Aperçu du fichier sélectionné</p>
        <img alt="Prévisualisation de l'image de fond" class="preview-large" data-upload-preview-img />
      </div>
    </div>

    <% if (content && content.backgroundImage) { %>
      <div class="preview-section">
        <p>Image actuelle :</p>
        <img src="<%= content.backgroundImage %>" alt="Fond actuel" class="preview-large" />
        <button type="button" id="removeBackgroundImageBtn" class="btn-danger with-icon">
          <i class="fa-solid fa-trash" aria-hidden="true"></i>
          <span>Supprimer l'image</span>
        </button>
        <input type="hidden" name="removeBackgroundImage" id="removeBackgroundImage" value="false" />
      </div>
      <% } %>
  </div>
</div>